---
- name:  Install packages
  apt: name={{ item }}
  with_items:
    - make

- name: Download and extract
  unarchive:
    src: http://www.ssisc.org/lis/dl/lis-{{ lis_version }}.tar.gz
    dest: /tmp
    creates: /tmp/lis-{{ lis_version }}
    remote_src: True

- name: Configure
  command: ./configure
  args:
    chdir: /tmp/lis-{{ lis_version }}
    creates: /tmp/lis-{{ lis_version }}/Makefile

- name: Build
  command: make install -j 2 # -j$(nproc)
  args:
    chdir: /tmp/lis-{{ lis_version }}
    creates: /usr/local/include/lis.h
